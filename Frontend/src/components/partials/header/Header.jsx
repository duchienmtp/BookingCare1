/* eslint-disable no-unused-vars */
import React, { useCallback, useState, useEffect, useRef } from "react";
import "./Header.scss";
import { path } from "../../../utils/constants";
import { Link, useLocation } from "react-router-dom";

function Header() {
  const location = useLocation();

  const [currentIndex, setCurrentIndex] = useState(0);
  const [searchItems, setSearchItems] = useState([
    "Tìm chuyên khoa",
    "Tìm bệnh viện",
    "Tìm phòng khám",
    "Tìm bác sĩ",
    "Tìm gói khám tổng quát",
    "Tìm xét nghiệm",
    "Tìm gói phẫu thuật",
    "Tìm lý do khám",
  ]);
  const sideMenuRef = useRef(null);
  const overlayRef = useRef(null);
  const rightMenuItems = [
    { id: 0, title: "Tất cả", link: path.HOME },
    { id: 1, title: "Tại nhà", link: path.HOME_SERVICE },
    { id: 2, title: "Tại viện", link: path.CLINIC_SERVICE },
    { id: 3, title: "Sống khỏe", link: path.HEALTHY_SERVICE },
  ];

  const appMiddleMenuRef = useRef(null);
  const appBottomMenuRef = useRef(null);

  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth < 992 && location.pathname !== "/") {
        appMiddleMenuRef.current.classList.add("hidden");
        appBottomMenuRef.current.classList.add("hidden");
      } else {
        appMiddleMenuRef.current.classList.remove("hidden");
        appBottomMenuRef.current.classList.remove("hidden");
      }
    };

    // Initial check
    handleResize();

    // Add event listener for window resize
    window.addEventListener("resize", handleResize);

    // Cleanup event listener on component unmount
    return () => {
      window.removeEventListener("resize", handleResize);
    };
  }, [location]);

  useEffect(() => {
    if (!searchItems || searchItems.length === 0) return;

    const intervalId = setInterval(() => {
      setCurrentIndex((prevIndex) => (prevIndex + 1) % searchItems.length);
    }, 2000);

    return () => clearInterval(intervalId);
  }, [currentIndex, searchItems]);

  const handleDropDownMenu = () => {
    sideMenuRef.current.style.display = "block";
    document.body.classList.add("no-scroll");
  };

  const handleCloseSideMenu = () => {
    sideMenuRef.current.style.display = "none";
    document.body.classList.remove("no-scroll");
  };

  return (
    <>
      <div className="app-header">
        <div className="app-container">
          <div className="app-menu">
            <div className="app-left-menu">
              <div className="app-dropdown-menu" onClick={handleDropDownMenu}>
                <svg
                  xmlSpace="preserve"
                  width="100%"
                  height="100%"
                  viewBox="0 0 32 32"
                  preserveAspectRatio="none"
                  fill="#969495"
                >
                  <path d="M4 10h24a2 2 0 0 0 0-4H4a2 2 0 0 0 0 4m24 4H4a2 2 0 0 0 0 4h24a2 2 0 0 0 0-4m0 8H4a2 2 0 0 0 0 4h24a2 2 0 0 0 0-4"></path>
                </svg>
              </div>
              <div className="app-logo">
                <Link to={"/"}>
                  <svg
                    id="Layer_1"
                    data-name="Layer 1"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 666.63 146.21"
                  >
                    <title>Logo_1</title>
                    <path
                      className="cls-1"
                      d="M73.11,41.43a31.68,31.68,0,1,0,31.68,31.68A31.68,31.68,0,0,0,73.11,41.43Zm19.9,38H79.43V93.08H66.78V79.43H53.21V66.78H66.78V53.13H79.43V66.78H93Z"
                    />
                    <path
                      className="cls-1"
                      d="M73.11,125.24A52.13,52.13,0,0,1,21,74.49h0V21.88a73.09,73.09,0,1,0,107.67,98.74L112.71,107A52,52,0,0,1,73.11,125.24Z"
                    />
                    <path
                      className="cls-1"
                      d="M73.11,0A72.82,72.82,0,0,0,44.3,5.91L44,6.06a3.76,3.76,0,0,0-2.13,3.37v22A52.14,52.14,0,0,1,113.36,40l16.19-13.33A73,73,0,0,0,73.11,0Z"
                    />
                    <path
                      className="cls-2"
                      d="M184.43,45.71a16.32,16.32,0,0,1,7.32,5,11.82,11.82,0,0,1,2.59,7.61,12.14,12.14,0,0,1-2.63,7.77,13.19,13.19,0,0,1-7.16,4.53,13.92,13.92,0,0,1,8.54,4.94,14.53,14.53,0,0,1,3.12,9.39,13.67,13.67,0,0,1-2.67,8.38,16.6,16.6,0,0,1-7.61,5.5,32.11,32.11,0,0,1-11.57,1.9h-28V44H173.3A32.23,32.23,0,0,1,184.43,45.71Zm-7.08,19.34a5.15,5.15,0,0,0,1.78-4.17,4.83,4.83,0,0,0-1.78-4,7.28,7.28,0,0,0-4.86-1.34H161.16v11h11.33A7.31,7.31,0,0,0,177.35,65.06Zm1.3,22.54a5.25,5.25,0,0,0,2.27-4.53,4.93,4.93,0,0,0-2.27-4.25,10.22,10.22,0,0,0-6.15-1.5H161.16v11.9h11.33A10.4,10.4,0,0,0,178.64,87.59Z"
                    />
                    <path
                      className="cls-2"
                      d="M236.67,59.23a20.42,20.42,0,0,1,8.42,7.85,22.53,22.53,0,0,1,3,11.69,22.68,22.68,0,0,1-3,11.77,20.41,20.41,0,0,1-8.42,7.85,29.58,29.58,0,0,1-25.09,0,20.13,20.13,0,0,1-8.38-7.85,22.91,22.91,0,0,1-3-11.77,22.75,22.75,0,0,1,3-11.69,20.13,20.13,0,0,1,8.38-7.85,29.58,29.58,0,0,1,25.09,0ZM217.33,71.08a11.57,11.57,0,0,0-2.59,7.85,11.69,11.69,0,0,0,2.59,7.93,8.55,8.55,0,0,0,6.8,3,8.64,8.64,0,0,0,6.88-3,11.7,11.7,0,0,0,2.59-7.93A11.47,11.47,0,0,0,231,71.08a8.68,8.68,0,0,0-6.84-3A8.56,8.56,0,0,0,217.33,71.08Z"
                    />
                    <path
                      className="cls-2"
                      d="M287.81,59.23a20.42,20.42,0,0,1,8.42,7.85,22.53,22.53,0,0,1,3,11.69,22.68,22.68,0,0,1-3,11.77,20.41,20.41,0,0,1-8.42,7.85,29.58,29.58,0,0,1-25.09,0,20.13,20.13,0,0,1-8.38-7.85,22.91,22.91,0,0,1-3-11.77,22.75,22.75,0,0,1,3-11.69,20.13,20.13,0,0,1,8.38-7.85,29.58,29.58,0,0,1,25.09,0ZM268.47,71.08a11.57,11.57,0,0,0-2.59,7.85,11.69,11.69,0,0,0,2.59,7.93,8.55,8.55,0,0,0,6.8,3,8.64,8.64,0,0,0,6.88-3,11.7,11.7,0,0,0,2.59-7.93,11.47,11.47,0,0,0-2.63-7.85,8.68,8.68,0,0,0-6.84-3A8.56,8.56,0,0,0,268.47,71.08Z"
                    />
                    <path
                      className="cls-2"
                      d="M334.59,100.7l-9.22-16.51-4.45,4.61v11.9H306.5v-60h14.41V71.73l14-14.81h16.35l-16,16.91,16.35,26.87Z"
                    />
                    <path
                      className="cls-2"
                      d="M369.34,38.92a7.5,7.5,0,0,1,2.15,5.54,7.53,7.53,0,0,1-2.15,5.5,7.92,7.92,0,0,1-10.92,0,7.53,7.53,0,0,1-2.15-5.5,7.5,7.5,0,0,1,2.15-5.54,8,8,0,0,1,10.92,0Zm-12.5,18h14.32V100.7H356.84Z"
                    />
                    <path
                      className="cls-2"
                      d="M422.11,60.89q4.33,4.53,4.33,12.22v27.6H412.11V77.24a8.21,8.21,0,0,0-2-5.87,7.1,7.1,0,0,0-5.42-2.14,8.31,8.31,0,0,0-5.87,2.35,9.54,9.54,0,0,0-2.71,6V100.7h-14.4V56.92h14.4V64a15.56,15.56,0,0,1,6-5.74,17.85,17.85,0,0,1,8.46-1.94Q417.78,56.36,422.11,60.89Z"
                    />
                    <path
                      className="cls-2"
                      d="M477.66,56.92v39.9a19,19,0,0,1-3,10.64,19.42,19.42,0,0,1-8.37,7A29.52,29.52,0,0,1,453.87,117a36.57,36.57,0,0,1-10.6-1.54,33.6,33.6,0,0,1-9-4.13l5-10a25.78,25.78,0,0,0,6.47,3.16,22.62,22.62,0,0,0,7,1.13,12,12,0,0,0,7.69-2.27,7.46,7.46,0,0,0,2.83-6.15V92.53q-4.37,5.75-12.46,5.75A17.56,17.56,0,0,1,434.57,88.2a24.55,24.55,0,0,1-2.39-11,24.29,24.29,0,0,1,2.31-10.84A17.28,17.28,0,0,1,441,59a17.85,17.85,0,0,1,9.55-2.59,17.42,17.42,0,0,1,7.32,1.5,14.29,14.29,0,0,1,5.46,4.33V56.92Zm-16.75,28a10.92,10.92,0,0,0,2.43-7.36,11.05,11.05,0,0,0-2.43-7.45,8.64,8.64,0,0,0-12.83,0,11,11,0,0,0-2.47,7.4,10.8,10.8,0,0,0,2.47,7.36,8.13,8.13,0,0,0,6.43,2.83A8,8,0,0,0,460.91,84.92Z"
                    />
                    <path
                      className="cls-2"
                      d="M522.17,57.69a15.69,15.69,0,0,0-7.53-2.06,14.72,14.72,0,0,0-7.81,2.15,15.19,15.19,0,0,0-5.54,5.91,18.35,18.35,0,0,0,0,16.75,15.18,15.18,0,0,0,5.54,5.91,14.71,14.71,0,0,0,7.81,2.15,17.18,17.18,0,0,0,7.28-1.78,23.06,23.06,0,0,0,6.8-4.86l8.66,9.31a34.62,34.62,0,0,1-11,7.73,30.45,30.45,0,0,1-27.8-1,28.38,28.38,0,0,1-10.68-10.6,29.51,29.51,0,0,1-3.88-15.05,28.28,28.28,0,0,1,14.85-25.33,32.25,32.25,0,0,1,28-1.17,30.92,30.92,0,0,1,10.44,7.16l-8.58,10.36A21.17,21.17,0,0,0,522.17,57.69Z"
                    />
                    <path
                      className="cls-2"
                      d="M576.56,60.52q5,4.17,5.1,11.69V100.7H567.49V95.77q-4.37,5.58-13.19,5.58-7,0-11-3.76a13,13,0,0,1-4-9.91A11.76,11.76,0,0,1,543.66,78q4.33-3.48,12.42-3.56h11.41v-.49a5.84,5.84,0,0,0-2.14-4.86,9.79,9.79,0,0,0-6.19-1.7,25,25,0,0,0-6.19.89A36.81,36.81,0,0,0,546,70.84l-4-9.71a57,57,0,0,1,10.24-3.6,43.48,43.48,0,0,1,10.16-1.17Q571.54,56.36,576.56,60.52ZM564.42,90a6.84,6.84,0,0,0,3.08-4.09v-3.8h-8.58q-6.07,0-6.07,4.53a4.47,4.47,0,0,0,1.58,3.6,6.49,6.49,0,0,0,4.33,1.34A10.16,10.16,0,0,0,564.42,90Z"
                    />
                    <path
                      className="cls-2"
                      d="M611.15,58.38a16.49,16.49,0,0,1,8.21-2V69.55a21.73,21.73,0,0,0-2.18-.08,13.32,13.32,0,0,0-8.25,2.39,9.15,9.15,0,0,0-3.64,6.51V100.7h-14.4V56.92h14.4v7.28A15.77,15.77,0,0,1,611.15,58.38Z"
                    />
                    <path
                      className="cls-2"
                      d="M660.88,62.75q5.74,6.31,5.75,17.32,0,1.7-.08,2.59H636.12a10.51,10.51,0,0,0,3.64,5.71,10.07,10.07,0,0,0,6.31,2,13.66,13.66,0,0,0,5.46-1.13,15.43,15.43,0,0,0,4.82-3.32l7.53,7.53a22.19,22.19,0,0,1-8.21,5.79,28.33,28.33,0,0,1-10.88,2,26.18,26.18,0,0,1-12.3-2.75,19.12,19.12,0,0,1-8.05-7.77A23.57,23.57,0,0,1,621.63,79a24.16,24.16,0,0,1,2.83-11.86,19.56,19.56,0,0,1,8-7.93,24.85,24.85,0,0,1,12-2.79Q655.13,56.44,660.88,62.75ZM652.63,75a8.43,8.43,0,0,0-2.23-6.11,8.46,8.46,0,0,0-11.57,0,11.27,11.27,0,0,0-3,6.15Z"
                    />
                  </svg>
                </Link>
              </div>
            </div>
            <div className="app-center-menu">
              <ul className="app-center-menu-list">
                {rightMenuItems &&
                  rightMenuItems.map((item) => (
                    <li
                      className={`app-center-menu-item ${
                        item.link === location.pathname ? "active" : ""
                      }`}
                      key={item.id}
                    >
                      <Link to={item.link}>
                        <span
                          className="app-center-menu-item-title"
                          href={item.link}
                        >
                          {item.title}
                        </span>
                      </Link>
                    </li>
                  ))}
              </ul>
              <div className="search-session">
                <div className="search-bar">
                  <svg
                    width="16"
                    height="16"
                    fill="black"
                    className="search_svg__bi search_svg__bi-search"
                    preserveAspectRatio="none"
                    viewBox="0 0 16 16"
                  >
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"></path>
                  </svg>
                  <span className="search-bar-placeholder">
                    {searchItems &&
                      searchItems.length > 0 &&
                      searchItems[currentIndex]}
                  </span>
                </div>
              </div>
            </div>
            <div className="app-right-menu">
              <div className="app-right-menu-item assignment-session">
                <div className="assignment-icon text-center">
                  <svg
                    className="app-right-menu-svg assignment-svg"
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    fill="none"
                    preserveAspectRatio="none"
                    viewBox="0 0 24 24"
                    color="#45c3d2"
                  >
                    <path
                      fill="#45C3D3"
                      d="M12 24c-3.067 0-5.739-1.017-8.017-3.05C1.706 18.917.4 16.378.067 13.333H2.8c.311 2.311 1.339 4.223 3.083 5.734 1.745 1.51 3.784 2.266 6.117 2.266 2.6 0 4.806-.905 6.617-2.716 1.81-1.811 2.716-4.017 2.716-6.617 0-2.6-.905-4.806-2.716-6.617C16.806 3.573 14.6 2.667 12 2.667a9 9 0 0 0-4.3 1.066 9.909 9.909 0 0 0-3.367 2.934H8v2.666H0v-8h2.667v3.134a11.642 11.642 0 0 1 4.15-3.3A11.908 11.908 0 0 1 12 0c1.667 0 3.228.317 4.683.95a12.196 12.196 0 0 1 3.8 2.567 12.196 12.196 0 0 1 2.567 3.8c.633 1.455.95 3.016.95 4.683 0 1.667-.317 3.228-.95 4.683a12.195 12.195 0 0 1-2.567 3.8 12.195 12.195 0 0 1-3.8 2.567c-1.455.633-3.016.95-4.683.95m3.733-6.4-5.066-5.067v-7.2h2.666v6.134l4.267 4.266z"
                    ></path>
                  </svg>
                </div>
                <span className="app-right-menu-title assignment-title">
                  Lịch hẹn
                </span>
              </div>
              <div className="app-right-menu-item support-session">
                <div className="support-icon text-center">
                  <svg
                    className="app-right-menu-svg support-svg"
                    xmlns="http://www.w3.org/2000/svg"
                    width="100%"
                    height="100%"
                    fill="#969495"
                    preserveAspectRatio="none"
                    viewBox="0 0 27 24"
                    color="#45c3d2"
                  >
                    <path
                      fill="#45C3D2"
                      d="M12 24v-2.667h10.667v-9.466c0-2.6-.906-4.806-2.717-6.617s-4.017-2.717-6.617-2.717c-2.6 0-4.805.906-6.616 2.717S4 9.267 4 11.867V20H2.667a2.568 2.568 0 0 1-1.884-.783A2.568 2.568 0 0 1 0 17.333v-2.666c0-.467.117-.906.35-1.317a2.61 2.61 0 0 1 .983-.983l.1-1.767A11.54 11.54 0 0 1 2.75 6.4a12.635 12.635 0 0 1 2.633-3.367A11.698 11.698 0 0 1 9.017.8c1.366-.533 2.805-.8 4.316-.8 1.511 0 2.945.267 4.3.8a12.136 12.136 0 0 1 3.634 2.217 11.967 11.967 0 0 1 2.633 3.35 12.237 12.237 0 0 1 1.333 4.2l.1 1.733c.423.2.75.5.984.9.233.4.35.822.35 1.267v3.066c0 .445-.117.867-.35 1.267-.234.4-.561.7-.984.9v1.633c0 .734-.26 1.361-.783 1.884a2.568 2.568 0 0 1-1.883.783zm-2.667-9.333a1.29 1.29 0 0 1-.95-.384 1.29 1.29 0 0 1-.383-.95c0-.377.128-.694.383-.95a1.29 1.29 0 0 1 .95-.383c.378 0 .695.128.95.383.256.256.384.573.384.95 0 .378-.128.695-.384.95a1.29 1.29 0 0 1-.95.384m8 0a1.29 1.29 0 0 1-.95-.384 1.29 1.29 0 0 1-.383-.95c0-.377.128-.694.383-.95a1.29 1.29 0 0 1 .95-.383c.378 0 .695.128.95.383.256.256.384.573.384.95 0 .378-.128.695-.384.95a1.29 1.29 0 0 1-.95.384M5.367 12.6c-.156-2.356.555-4.378 2.133-6.067C9.078 4.844 11.044 4 13.4 4c1.978 0 3.717.628 5.217 1.883 1.5 1.256 2.405 2.861 2.716 4.817a10.527 10.527 0 0 1-5.583-1.633C14.05 8 12.744 6.556 11.833 4.733a10.635 10.635 0 0 1-2.25 4.75A10.658 10.658 0 0 1 5.367 12.6"
                    ></path>
                  </svg>
                </div>
                <span className="app-right-menu-title support-title">
                  Hỗ trợ
                </span>
              </div>
            </div>

            <div className="side-menu" ref={sideMenuRef}>
              <ul className="side-menu-list">
                <li className="side-menu-item">
                  <span className="side-menu-item-title">Trang chủ</span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">Cẩm nang</span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">Liên hệ hợp tác</span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Sức khỏe doanh nghiệp
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Gói chuyển đổi số doanh nghiệp
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">Tuyển dụng</span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Dành cho bệnh nhân
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">Dành cho bác sĩ</span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Vai trò của BookingCare
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">Liên hệ</span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Câu hỏi thường gặp
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Điều khoản sử dụng
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Quy trình hỗ trợ giải quyết khiếu nại
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="side-menu-item-title">
                    Quy chế hoạt động
                  </span>
                </li>
                <li className="side-menu-item">
                  <span className="social-media-icon tiktok-icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="32"
                      height="32"
                      preserveAspectRatio="none"
                      viewBox="0 0 250 250"
                      style={{ marginRight: 10 }}
                    >
                      <g fillRule="evenodd" clipRule="evenodd">
                        <path
                          fill="#010101"
                          d="M25 0h200c13.808 0 25 11.192 25 25v200c0 13.808-11.192 25-25 25H25c-13.808 0-25-11.192-25-25V25C0 11.192 11.192 0 25 0"
                        ></path>
                        <path
                          fill="#ee1d51"
                          d="M156.98 230c7.607 0 13.774-6.117 13.774-13.662s-6.167-13.663-13.774-13.663h-2.075c7.607 0 13.774 6.118 13.774 13.663S162.512 230 154.905 230z"
                        ></path>
                        <path
                          fill="#66c8cf"
                          d="M154.717 202.675h-2.075c-7.607 0-13.775 6.118-13.775 13.663S145.035 230 152.642 230h2.075c-7.608 0-13.775-6.117-13.775-13.662s6.167-13.663 13.775-13.663"
                        ></path>
                        <ellipse
                          cx="154.811"
                          cy="216.338"
                          fill="#010101"
                          rx="6.699"
                          ry="6.643"
                        ></ellipse>
                        <path
                          fill="#fff"
                          d="M50 196.5v6.925h8.112v26.388h8.115v-26.201h6.603l2.264-7.112zm66.415 0v6.925h8.112v26.388h8.115v-26.201h6.603l2.264-7.112zm-39.81 3.93c0-2.17 1.771-3.93 3.959-3.93 2.19 0 3.963 1.76 3.963 3.93s-1.772 3.93-3.963 3.93c-2.188-.001-3.959-1.76-3.959-3.93m0 6.738h7.922v22.645h-7.922zM87.924 196.5v33.313h7.925v-8.608l2.453-2.248L106.037 230h8.49l-11.133-16.095 10-9.733h-9.622l-7.923 7.86V196.5zm85.47 0v33.313h7.926v-8.608l2.452-2.248L191.509 230H200l-11.133-16.095 10-9.733h-9.622l-7.925 7.86V196.5z"
                        ></path>
                        <path
                          fill="#ee1d52"
                          d="M161.167 81.186c10.944 7.819 24.352 12.42 38.832 12.42V65.755a39.26 39.26 0 01-8.155-.853v21.923c-14.479 0-27.885-4.601-38.832-12.42v56.835c0 28.432-23.06 51.479-51.505 51.479-10.613 0-20.478-3.207-28.673-8.707C82.187 183.57 95.23 189.5 109.66 189.5c28.447 0 51.508-23.047 51.508-51.48V81.186zm10.06-28.098c-5.593-6.107-9.265-14-10.06-22.726V26.78h-7.728c1.945 11.09 8.58 20.565 17.788 26.308m-80.402 99.107a23.445 23.445 0 01-4.806-14.256c0-13.004 10.548-23.547 23.561-23.547a23.6 23.6 0 017.147 1.103V87.022a51.97 51.97 0 00-8.152-.469v22.162a23.619 23.619 0 00-7.15-1.103c-13.013 0-23.56 10.543-23.56 23.548 0 9.195 5.272 17.157 12.96 21.035"
                        ></path>
                        <path
                          fill="#fff"
                          d="M153.012 74.405c10.947 7.819 24.353 12.42 38.832 12.42V64.902c-8.082-1.72-15.237-5.942-20.617-11.814-9.208-5.743-15.843-15.218-17.788-26.308H133.14v111.239c-.046 12.968-10.576 23.468-23.561 23.468-7.652 0-14.45-3.645-18.755-9.292-7.688-3.878-12.96-11.84-12.96-21.035 0-13.005 10.547-23.548 23.56-23.548 2.493 0 4.896.388 7.15 1.103V86.553c-27.945.577-50.42 23.399-50.42 51.467 0 14.011 5.597 26.713 14.68 35.993 8.195 5.5 18.06 8.707 28.673 8.707 28.445 0 51.505-23.048 51.505-51.479z"
                        ></path>
                        <path
                          fill="#69c9d0"
                          d="M191.844 64.902v-5.928a38.84 38.84 0 01-20.617-5.887 38.948 38.948 0 0020.617 11.815M153.439 26.78a39.524 39.524 0 01-.427-3.198V20h-28.028v111.24c-.045 12.967-10.574 23.467-23.56 23.467-3.813 0-7.412-.904-10.6-2.512 4.305 5.647 11.103 9.292 18.755 9.292 12.984 0 23.515-10.5 23.561-23.468V26.78zm-44.864 59.773v-6.311a51.97 51.97 0 00-7.067-.479C73.06 79.763 50 102.811 50 131.24c0 17.824 9.063 33.532 22.835 42.772-9.083-9.28-14.68-21.982-14.68-35.993 0-28.067 22.474-50.889 50.42-51.466"
                        ></path>
                        <path
                          fill="#fff"
                          d="M154.904 230c7.607 0 13.775-6.117 13.775-13.662s-6.168-13.663-13.775-13.663h-.188c-7.607 0-13.774 6.118-13.774 13.663S147.109 230 154.716 230zm-6.792-13.662c0-3.67 3-6.643 6.7-6.643 3.697 0 6.697 2.973 6.697 6.643s-3 6.645-6.697 6.645c-3.7-.001-6.7-2.975-6.7-6.645"
                        ></path>
                      </g>
                    </svg>
                  </span>
                  <span className="social-media-icon facebook-icon">
                    <svg
                      width="32"
                      height="32"
                      preserveAspectRatio="none"
                      viewBox="0 0 128 128"
                      style={{ marginRight: 10 }}
                    >
                      <path
                        fill="#3C579E"
                        d="M128 112c0 8.8-7.2 16-16 16H16c-8.8 0-16-7.2-16-16V16C0 7.2 7.2 0 16 0h96c8.8 0 16 7.2 16 16z"
                      ></path>
                      <path
                        fill="#FFF"
                        d="M68.877 128V78.188h-17.78V60.425h17.784V44.029c0-16.537 9.764-26.279 24.514-26.279 7.068 0 12.834.756 14.605.991v18.573l-11.874-.005c-8.022 0-9.523 3.979-9.523 9.572v13.544h20.556l-2.904 17.763H86.603V128z"
                      ></path>
                    </svg>
                  </span>
                  <span className="social-media-icon youtube-icon">
                    <svg
                      width="32"
                      height="32"
                      preserveAspectRatio="none"
                      viewBox="0 0 128 128"
                    >
                      <path
                        fill="#CC191E"
                        d="M128 112c0 8.8-7.2 16-16 16H16c-8.8 0-16-7.2-16-16V16C0 7.2 7.2 0 16 0h96c8.8 0 16 7.2 16 16z"
                      ></path>
                      <path
                        fill="#FFF"
                        d="M107.122 46.404s-.86-6.064-3.499-8.733c-3.348-3.506-7.098-3.523-8.816-3.728-12.312-.891-30.787-.891-30.787-.891h-.04s-18.474 0-30.787.891c-1.721.204-5.469.221-8.816 3.728-2.639 2.669-3.498 8.733-3.498 8.733S20 53.525 20 60.647v6.677c0 7.119.879 14.242.879 14.242s.859 6.062 3.498 8.732c3.348 3.508 7.745 3.396 9.702 3.764 7.041.676 29.922.885 29.922.885s18.49-.028 30.806-.918c1.721-.206 5.471-.223 8.817-3.729 2.64-2.672 3.499-8.733 3.499-8.733s.877-7.122.877-14.243v-6.677c0-7.122-.878-14.243-.878-14.243m-53.32 30.165l-.003-27.038 26 13.565z"
                      ></path>
                    </svg>
                  </span>
                </li>
              </ul>
              <div
                className="side-menu-list-overlay"
                ref={overlayRef}
                onClick={handleCloseSideMenu}
              ></div>
            </div>
          </div>
        </div>
      </div>
      <div className="app-top-menu-container">
        <div className="app-top-menu">
          <div className="app-top-menu-left-side">
            <div className="app-dropdown-menu" onClick={handleDropDownMenu}>
              <svg
                xmlSpace="preserve"
                width="100%"
                height="100%"
                viewBox="0 0 32 32"
                preserveAspectRatio="none"
                fill="#969495"
              >
                <path d="M4 10h24a2 2 0 0 0 0-4H4a2 2 0 0 0 0 4m24 4H4a2 2 0 0 0 0 4h24a2 2 0 0 0 0-4m0 8H4a2 2 0 0 0 0 4h24a2 2 0 0 0 0-4"></path>
              </svg>
            </div>
            <div className="app-logo">
              <Link to="/">
                <svg
                  id="Layer_1"
                  data-name="Layer 1"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 666.63 146.21"
                >
                  <title>Logo_1</title>
                  <path
                    className="cls-1"
                    d="M73.11,41.43a31.68,31.68,0,1,0,31.68,31.68A31.68,31.68,0,0,0,73.11,41.43Zm19.9,38H79.43V93.08H66.78V79.43H53.21V66.78H66.78V53.13H79.43V66.78H93Z"
                  />
                  <path
                    className="cls-1"
                    d="M73.11,125.24A52.13,52.13,0,0,1,21,74.49h0V21.88a73.09,73.09,0,1,0,107.67,98.74L112.71,107A52,52,0,0,1,73.11,125.24Z"
                  />
                  <path
                    className="cls-1"
                    d="M73.11,0A72.82,72.82,0,0,0,44.3,5.91L44,6.06a3.76,3.76,0,0,0-2.13,3.37v22A52.14,52.14,0,0,1,113.36,40l16.19-13.33A73,73,0,0,0,73.11,0Z"
                  />
                  <path
                    className="cls-2"
                    d="M184.43,45.71a16.32,16.32,0,0,1,7.32,5,11.82,11.82,0,0,1,2.59,7.61,12.14,12.14,0,0,1-2.63,7.77,13.19,13.19,0,0,1-7.16,4.53,13.92,13.92,0,0,1,8.54,4.94,14.53,14.53,0,0,1,3.12,9.39,13.67,13.67,0,0,1-2.67,8.38,16.6,16.6,0,0,1-7.61,5.5,32.11,32.11,0,0,1-11.57,1.9h-28V44H173.3A32.23,32.23,0,0,1,184.43,45.71Zm-7.08,19.34a5.15,5.15,0,0,0,1.78-4.17,4.83,4.83,0,0,0-1.78-4,7.28,7.28,0,0,0-4.86-1.34H161.16v11h11.33A7.31,7.31,0,0,0,177.35,65.06Zm1.3,22.54a5.25,5.25,0,0,0,2.27-4.53,4.93,4.93,0,0,0-2.27-4.25,10.22,10.22,0,0,0-6.15-1.5H161.16v11.9h11.33A10.4,10.4,0,0,0,178.64,87.59Z"
                  />
                  <path
                    className="cls-2"
                    d="M236.67,59.23a20.42,20.42,0,0,1,8.42,7.85,22.53,22.53,0,0,1,3,11.69,22.68,22.68,0,0,1-3,11.77,20.41,20.41,0,0,1-8.42,7.85,29.58,29.58,0,0,1-25.09,0,20.13,20.13,0,0,1-8.38-7.85,22.91,22.91,0,0,1-3-11.77,22.75,22.75,0,0,1,3-11.69,20.13,20.13,0,0,1,8.38-7.85,29.58,29.58,0,0,1,25.09,0ZM217.33,71.08a11.57,11.57,0,0,0-2.59,7.85,11.69,11.69,0,0,0,2.59,7.93,8.55,8.55,0,0,0,6.8,3,8.64,8.64,0,0,0,6.88-3,11.7,11.7,0,0,0,2.59-7.93A11.47,11.47,0,0,0,231,71.08a8.68,8.68,0,0,0-6.84-3A8.56,8.56,0,0,0,217.33,71.08Z"
                  />
                  <path
                    className="cls-2"
                    d="M287.81,59.23a20.42,20.42,0,0,1,8.42,7.85,22.53,22.53,0,0,1,3,11.69,22.68,22.68,0,0,1-3,11.77,20.41,20.41,0,0,1-8.42,7.85,29.58,29.58,0,0,1-25.09,0,20.13,20.13,0,0,1-8.38-7.85,22.91,22.91,0,0,1-3-11.77,22.75,22.75,0,0,1,3-11.69,20.13,20.13,0,0,1,8.38-7.85,29.58,29.58,0,0,1,25.09,0ZM268.47,71.08a11.57,11.57,0,0,0-2.59,7.85,11.69,11.69,0,0,0,2.59,7.93,8.55,8.55,0,0,0,6.8,3,8.64,8.64,0,0,0,6.88-3,11.7,11.7,0,0,0,2.59-7.93,11.47,11.47,0,0,0-2.63-7.85,8.68,8.68,0,0,0-6.84-3A8.56,8.56,0,0,0,268.47,71.08Z"
                  />
                  <path
                    className="cls-2"
                    d="M334.59,100.7l-9.22-16.51-4.45,4.61v11.9H306.5v-60h14.41V71.73l14-14.81h16.35l-16,16.91,16.35,26.87Z"
                  />
                  <path
                    className="cls-2"
                    d="M369.34,38.92a7.5,7.5,0,0,1,2.15,5.54,7.53,7.53,0,0,1-2.15,5.5,7.92,7.92,0,0,1-10.92,0,7.53,7.53,0,0,1-2.15-5.5,7.5,7.5,0,0,1,2.15-5.54,8,8,0,0,1,10.92,0Zm-12.5,18h14.32V100.7H356.84Z"
                  />
                  <path
                    className="cls-2"
                    d="M422.11,60.89q4.33,4.53,4.33,12.22v27.6H412.11V77.24a8.21,8.21,0,0,0-2-5.87,7.1,7.1,0,0,0-5.42-2.14,8.31,8.31,0,0,0-5.87,2.35,9.54,9.54,0,0,0-2.71,6V100.7h-14.4V56.92h14.4V64a15.56,15.56,0,0,1,6-5.74,17.85,17.85,0,0,1,8.46-1.94Q417.78,56.36,422.11,60.89Z"
                  />
                  <path
                    className="cls-2"
                    d="M477.66,56.92v39.9a19,19,0,0,1-3,10.64,19.42,19.42,0,0,1-8.37,7A29.52,29.52,0,0,1,453.87,117a36.57,36.57,0,0,1-10.6-1.54,33.6,33.6,0,0,1-9-4.13l5-10a25.78,25.78,0,0,0,6.47,3.16,22.62,22.62,0,0,0,7,1.13,12,12,0,0,0,7.69-2.27,7.46,7.46,0,0,0,2.83-6.15V92.53q-4.37,5.75-12.46,5.75A17.56,17.56,0,0,1,434.57,88.2a24.55,24.55,0,0,1-2.39-11,24.29,24.29,0,0,1,2.31-10.84A17.28,17.28,0,0,1,441,59a17.85,17.85,0,0,1,9.55-2.59,17.42,17.42,0,0,1,7.32,1.5,14.29,14.29,0,0,1,5.46,4.33V56.92Zm-16.75,28a10.92,10.92,0,0,0,2.43-7.36,11.05,11.05,0,0,0-2.43-7.45,8.64,8.64,0,0,0-12.83,0,11,11,0,0,0-2.47,7.4,10.8,10.8,0,0,0,2.47,7.36,8.13,8.13,0,0,0,6.43,2.83A8,8,0,0,0,460.91,84.92Z"
                  />
                  <path
                    className="cls-2"
                    d="M522.17,57.69a15.69,15.69,0,0,0-7.53-2.06,14.72,14.72,0,0,0-7.81,2.15,15.19,15.19,0,0,0-5.54,5.91,18.35,18.35,0,0,0,0,16.75,15.18,15.18,0,0,0,5.54,5.91,14.71,14.71,0,0,0,7.81,2.15,17.18,17.18,0,0,0,7.28-1.78,23.06,23.06,0,0,0,6.8-4.86l8.66,9.31a34.62,34.62,0,0,1-11,7.73,30.45,30.45,0,0,1-27.8-1,28.38,28.38,0,0,1-10.68-10.6,29.51,29.51,0,0,1-3.88-15.05,28.28,28.28,0,0,1,14.85-25.33,32.25,32.25,0,0,1,28-1.17,30.92,30.92,0,0,1,10.44,7.16l-8.58,10.36A21.17,21.17,0,0,0,522.17,57.69Z"
                  />
                  <path
                    className="cls-2"
                    d="M576.56,60.52q5,4.17,5.1,11.69V100.7H567.49V95.77q-4.37,5.58-13.19,5.58-7,0-11-3.76a13,13,0,0,1-4-9.91A11.76,11.76,0,0,1,543.66,78q4.33-3.48,12.42-3.56h11.41v-.49a5.84,5.84,0,0,0-2.14-4.86,9.79,9.79,0,0,0-6.19-1.7,25,25,0,0,0-6.19.89A36.81,36.81,0,0,0,546,70.84l-4-9.71a57,57,0,0,1,10.24-3.6,43.48,43.48,0,0,1,10.16-1.17Q571.54,56.36,576.56,60.52ZM564.42,90a6.84,6.84,0,0,0,3.08-4.09v-3.8h-8.58q-6.07,0-6.07,4.53a4.47,4.47,0,0,0,1.58,3.6,6.49,6.49,0,0,0,4.33,1.34A10.16,10.16,0,0,0,564.42,90Z"
                  />
                  <path
                    className="cls-2"
                    d="M611.15,58.38a16.49,16.49,0,0,1,8.21-2V69.55a21.73,21.73,0,0,0-2.18-.08,13.32,13.32,0,0,0-8.25,2.39,9.15,9.15,0,0,0-3.64,6.51V100.7h-14.4V56.92h14.4v7.28A15.77,15.77,0,0,1,611.15,58.38Z"
                  />
                  <path
                    className="cls-2"
                    d="M660.88,62.75q5.74,6.31,5.75,17.32,0,1.7-.08,2.59H636.12a10.51,10.51,0,0,0,3.64,5.71,10.07,10.07,0,0,0,6.31,2,13.66,13.66,0,0,0,5.46-1.13,15.43,15.43,0,0,0,4.82-3.32l7.53,7.53a22.19,22.19,0,0,1-8.21,5.79,28.33,28.33,0,0,1-10.88,2,26.18,26.18,0,0,1-12.3-2.75,19.12,19.12,0,0,1-8.05-7.77A23.57,23.57,0,0,1,621.63,79a24.16,24.16,0,0,1,2.83-11.86,19.56,19.56,0,0,1,8-7.93,24.85,24.85,0,0,1,12-2.79Q655.13,56.44,660.88,62.75ZM652.63,75a8.43,8.43,0,0,0-2.23-6.11,8.46,8.46,0,0,0-11.57,0,11.27,11.27,0,0,0-3,6.15Z"
                  />
                </svg>
              </Link>
            </div>
          </div>
          <div className="app-top-menu-right-side">
            <div className="app-right-menu-item assignment-session">
              <div className="assignment-icon text-center">
                <svg
                  className="app-right-menu-svg assignment-svg"
                  xmlns="http://www.w3.org/2000/svg"
                  width="100%"
                  height="100%"
                  fill="none"
                  preserveAspectRatio="none"
                  viewBox="0 0 24 24"
                  color="#45c3d2"
                >
                  <path
                    fill="#45C3D3"
                    d="M12 24c-3.067 0-5.739-1.017-8.017-3.05C1.706 18.917.4 16.378.067 13.333H2.8c.311 2.311 1.339 4.223 3.083 5.734 1.745 1.51 3.784 2.266 6.117 2.266 2.6 0 4.806-.905 6.617-2.716 1.81-1.811 2.716-4.017 2.716-6.617 0-2.6-.905-4.806-2.716-6.617C16.806 3.573 14.6 2.667 12 2.667a9 9 0 0 0-4.3 1.066 9.909 9.909 0 0 0-3.367 2.934H8v2.666H0v-8h2.667v3.134a11.642 11.642 0 0 1 4.15-3.3A11.908 11.908 0 0 1 12 0c1.667 0 3.228.317 4.683.95a12.196 12.196 0 0 1 3.8 2.567 12.196 12.196 0 0 1 2.567 3.8c.633 1.455.95 3.016.95 4.683 0 1.667-.317 3.228-.95 4.683a12.195 12.195 0 0 1-2.567 3.8 12.195 12.195 0 0 1-3.8 2.567c-1.455.633-3.016.95-4.683.95m3.733-6.4-5.066-5.067v-7.2h2.666v6.134l4.267 4.266z"
                  ></path>
                </svg>
              </div>
              <span className="app-right-menu-title assignment-title">
                Lịch hẹn
              </span>
            </div>
            <div className="app-right-menu-item support-session">
              <div className="support-icon text-center">
                <svg
                  className="app-right-menu-svg support-svg"
                  xmlns="http://www.w3.org/2000/svg"
                  width="100%"
                  height="100%"
                  fill="#969495"
                  preserveAspectRatio="none"
                  viewBox="0 0 27 24"
                  color="#45c3d2"
                >
                  <path
                    fill="#45C3D2"
                    d="M12 24v-2.667h10.667v-9.466c0-2.6-.906-4.806-2.717-6.617s-4.017-2.717-6.617-2.717c-2.6 0-4.805.906-6.616 2.717S4 9.267 4 11.867V20H2.667a2.568 2.568 0 0 1-1.884-.783A2.568 2.568 0 0 1 0 17.333v-2.666c0-.467.117-.906.35-1.317a2.61 2.61 0 0 1 .983-.983l.1-1.767A11.54 11.54 0 0 1 2.75 6.4a12.635 12.635 0 0 1 2.633-3.367A11.698 11.698 0 0 1 9.017.8c1.366-.533 2.805-.8 4.316-.8 1.511 0 2.945.267 4.3.8a12.136 12.136 0 0 1 3.634 2.217 11.967 11.967 0 0 1 2.633 3.35 12.237 12.237 0 0 1 1.333 4.2l.1 1.733c.423.2.75.5.984.9.233.4.35.822.35 1.267v3.066c0 .445-.117.867-.35 1.267-.234.4-.561.7-.984.9v1.633c0 .734-.26 1.361-.783 1.884a2.568 2.568 0 0 1-1.883.783zm-2.667-9.333a1.29 1.29 0 0 1-.95-.384 1.29 1.29 0 0 1-.383-.95c0-.377.128-.694.383-.95a1.29 1.29 0 0 1 .95-.383c.378 0 .695.128.95.383.256.256.384.573.384.95 0 .378-.128.695-.384.95a1.29 1.29 0 0 1-.95.384m8 0a1.29 1.29 0 0 1-.95-.384 1.29 1.29 0 0 1-.383-.95c0-.377.128-.694.383-.95a1.29 1.29 0 0 1 .95-.383c.378 0 .695.128.95.383.256.256.384.573.384.95 0 .378-.128.695-.384.95a1.29 1.29 0 0 1-.95.384M5.367 12.6c-.156-2.356.555-4.378 2.133-6.067C9.078 4.844 11.044 4 13.4 4c1.978 0 3.717.628 5.217 1.883 1.5 1.256 2.405 2.861 2.716 4.817a10.527 10.527 0 0 1-5.583-1.633C14.05 8 12.744 6.556 11.833 4.733a10.635 10.635 0 0 1-2.25 4.75A10.658 10.658 0 0 1 5.367 12.6"
                  ></path>
                </svg>
              </div>
              <span className="app-right-menu-title support-title">Hỗ trợ</span>
            </div>
          </div>
        </div>
      </div>
      <div className="app-middle-menu" ref={appMiddleMenuRef}>
        <ul className="app-center-menu-list">
          {rightMenuItems &&
            rightMenuItems.map((item) => (
              <li
                className={`app-center-menu-item ${
                  item.link === location.pathname ? "active" : ""
                }`}
                key={item.id}
              >
                <Link to={item.link}>
                  <span className="app-center-menu-item-title">
                    {item.title}
                  </span>
                </Link>
              </li>
            ))}
        </ul>
      </div>
      <div className="app-bottom-menu" ref={appBottomMenuRef}>
        <div className="search-session">
          <div className="search-bar">
            <svg
              width="16"
              height="16"
              fill="black"
              className="search_svg__bi search_svg__bi-search"
              preserveAspectRatio="none"
              viewBox="0 0 16 16"
            >
              <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"></path>
            </svg>
            <span className="search-bar-placeholder">
              {searchItems &&
                searchItems.length > 0 &&
                searchItems[currentIndex]}
            </span>
          </div>
        </div>
      </div>
    </>
  );
}

export default Header;
